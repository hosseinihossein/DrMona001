<mat-dialog-content>

    <div id="img-box" class="clearfix">
        @if(previewImgSrc()){
        <img [src]="previewImgSrc()" [alt]="data.title" #previewImg>
        }
        @if(!data.value){
        <button matButton="elevated" id="selectButton" (click)="fileInput.click()">Select New Image</button>
        <input type="file" hidden #fileInput (change)="onSelectImage($event)">
        }
    </div>

    <mat-form-field [style]="data.displayTitle?'':'display:none;'">
        <mat-label>Title</mat-label>
        <input matInput [formControl]="titleControl">
        @if(titleControl.invalid && (titleControl.dirty || titleControl.touched) && titleControl.errors){
        <mat-error>
            {{titleControl.errors | json}}
        </mat-error>
        }
        <!--@if(titleControl.invalid && (titleControl.dirty || titleControl.touched) &&
        titleControl.hasError("required")){
        <mat-error>
            title is required!
        </mat-error>
        }
        @if(titleControl.invalid && (titleControl.dirty || titleControl.touched) &&
        titleControl.hasError("maxlength")){
        <mat-error>
            title cannot be more than {{singletonModes.elementTitle_MaxLength()}} characters long!
        </mat-error>
        }
        @if(titleControl.invalid && (titleControl.dirty || titleControl.touched) &&
        titleControl.hasError("minlength")){
        <mat-error>
            title cannot be less than {{singletonModes.elementTitle_MinLength()}} characters!
        </mat-error>
        }-->
        @if(imageSizeError()){
        <mat-error>
            {{imageSizeError()}}
        </mat-error>
        }
    </mat-form-field>

    @if(data.enableEdit){
    <mat-dialog-actions align="end" style="float:inline-end;">
        <button matButton mat-dialog-close>Cancel</button>
        <button matButton="filled" [disabled]="data.title === titleControl.value || titleControl.invalid"
            [mat-dialog-close]="titleControl.value">Submit</button>
    </mat-dialog-actions>
    <mat-dialog-actions align="start">
        <button matButton="filled" class="warning" mat-dialog-close="Delete">Delete</button>
    </mat-dialog-actions>
    }
    @else {
    <mat-dialog-actions align="end" style="float:inline-end;">
        <button matButton mat-dialog-close>Cancel</button>
        <button matButton="filled" [mat-dialog-close]="{file:selectedFile(),title:titleControl.value}"
            [disabled]="!selectedFile() || titleControl.invalid">
            Save
        </button>
    </mat-dialog-actions>
    }

</mat-dialog-content>