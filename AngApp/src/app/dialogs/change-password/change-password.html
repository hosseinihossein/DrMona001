<mat-dialog-content>
    <form [formGroup]="changePasswordForm()">
        <mat-form-field>
            <mat-label>Current Password</mat-label>
            <input matInput formControlName="CurrentPassword">
            @if(currentPassword().invalid && (currentPassword().dirty || currentPassword().touched) &&
            currentPassword().hasError("required")){
            <mat-error>
                current password is required!
            </mat-error>
            }
            @if(currentPassword().invalid && (currentPassword().dirty || currentPassword().touched) &&
            currentPassword().hasError("maxlength")){
            <mat-error>
                current password must be less than 60 characters long!
            </mat-error>
            }
        </mat-form-field>
        <mat-form-field>
            <mat-label>New Password</mat-label>
            <input matInput formControlName="NewPassword">
            @if(newPassword().invalid && (newPassword().dirty || newPassword().touched) &&
            newPassword().hasError("required")){
            <mat-error>
                new password is required!
            </mat-error>
            }
            @if(newPassword().invalid && (newPassword().dirty || newPassword().touched) &&
            newPassword().hasError("maxlength")){
            <mat-error>
                new password must be less than 60 characters long!
            </mat-error>
            }
            @if(newPassword().invalid && (newPassword().dirty || newPassword().touched) &&
            newPassword().hasError("minlength")){
            <mat-error>
                new password must be at least 8 characters long!
            </mat-error>
            }
        </mat-form-field>
        <mat-form-field>
            <mat-label>Repeat New Password</mat-label>
            <input matInput formControlName="RepeatNewPassword">
            @if(repeatNewPassword().invalid && (repeatNewPassword().dirty || repeatNewPassword().touched) &&
            repeatNewPassword().hasError("required")){
            <mat-error>
                you need to repeat the new password!
            </mat-error>
            }
        </mat-form-field>

        @if(changePasswordForm().invalid && (repeatNewPassword().dirty || repeatNewPassword().touched) &&
        changePasswordForm().hasError("notEqual")){
        <mat-error>
            {{changePasswordForm().getError("notEqual").message}}
        </mat-error>
        }
    </form>
    <mat-dialog-actions>
        <button matButton mat-dialog-close>Cancel</button>
        <button matButton="filled" [disabled]="changePasswordForm().invalid"
            [mat-dialog-close]="{currentPassword:currentPassword().value, newPassword: newPassword().value}">
            Submit
        </button>
    </mat-dialog-actions>

    <!--@if(displayWaitSpinner()){
    <app-wait-spinner></app-wait-spinner>
    }-->
</mat-dialog-content>